<div class="sales-announce-section">
    {%- for block in section.blocks -%}
                {%- assign collection = collections[block.settings.collection] -%}
                {%- assign heading = block.settings.heading -%}
                {%- assign subheading = block.settings.subheading -%}
                {%- assign btn-text = block.settings.btn-text -%}
                {%- assign card-icon = block.settings.png_icon -%}


                {% if collection == empty %}
                  {% comment %}
                linear-gradient(73.38deg, #01EEA7 9.89%, #ACFDF8 94.09%)
                    linear-gradient(73.38deg, #AD02AC 9.89%, #FFA0F5 94.09%)
                    add default state for collection block in storefront editor{% endcomment %}
                  {% capture collection_title %}{{ 'onboarding.collection_title' | t }}{% endcapture %}
                {% else %}
                  {% capture collection_title %}{{ collection.title }}{% endcapture %}
                {% endif %}
                <div class="main-card-wrap card-{{ block.id }}" style="background-image: linear-gradient(73.38deg, {{ block.settings.background_color1 }} 9.89%, {{ block.settings.background_color2 }} 94.09%);">
                    
                      
                        <div class="main-card-wrap-left">
                            <div class="card-heading" style="font-size:{{ block.settings.head-size }}px; color:{{ block.settings.head_text_color }}">
                                {{ heading }}
                            </div>
                            <div class="card-subheading" style="font-size:{{ block.settings.sub-size }}px; color:{{ block.settings.sub_text_color }}">
                                {{ subheading }}
                            </div>
                            <button class="card-button" style="background:{{ block.settings.btn_bg_color }}; color:{{ block.settings.btn_text_color }}">
                                {{ btn-text }}
                            </button>
                        </div>
                        <div class="main-card-wrap-right">
                            {% render 'responsive-image' with card-icon %}
                        </div>
                    
                </div>
        
    {%- endfor -%}
</div>



<style>

.sales-announce-section{
    display:flex;
    width:100%;
}

@media screen and (max-width: 768px){
    .sales-announce-section{
        flex-direction:column;
    }
    .main-card-wrap{
        width: unset;
        margin: 10px;
        
    }
    
}
@media screen and (min-width: 768px){
    {% comment %} .sales-announce-section{
        flex-direction:column;
        
    } {% endcomment %}
    .main-card-wrap{
        width:50%;
        margin: 20px;
    }
}
.main-card-wrap{

    {% comment %} width:50%; {% endcomment %}
    padding: 20px;
    
    border-radius: 20px;
}
.main-card-wrap,.main-card-wrap-left,.main-card-wrap-right{
    display:flex;
    justify-content:center;
    align-items:center;
    min-height:150px;
}
.main-card-wrap-left{
    width:40%;
    flex-direction:column;
}

.main-card-wrap-right{
    width:60%;
}
.main-card-wrap-right>.responsive-image-wrapper{
    width:fit-content;
    height:fit-content;
    display: flex;
    justify-content: center;
    align-items: center;
}
.main-card-wrap-right>.responsive-image-wrapper>img{
    width:80%;
    height:auto;
}
.card-button{
    background: black;
    border: none;
    border-radius: 10px;
    color: white;
    padding: 0 10px;
}


</style>

{% schema %}
{
  "name": "Sale Announce",
  "class": "section page-width",
  "settings": [
    {
        "type": "range",
        "id": "no-of-items",
        "min": 1,
        "max": 4,
        "step": 1,
        "label": "items",
        "default": 2
    }
   ],
  "blocks": [
    {
        "type": "sale_announce",
        "name": "sales announce",
        "settings": [
            {
                "label": {
                    "en": "Collection",
                    "de": "Kollektion",
                    "es": "Colección",
                    "fr": "Collection",
                    "pt-PT": "Coleção"
                },
                "id": "collection",
                "type": "collection"
            },
              {
                "id": "png_icon",
                "type": "image_picker",
                "label": {
                    "en": "Image (Optional)",
                    "de": "Bild (Optional)",
                    "es": "Imagen (Opcional)",
                    "fr": "Image (Facultatif)",
                    "pt-PT": "Imagem (Opcional)"
                },
                "info": {
                    "en": "1600 x 1600px recommended",
                    "de": "1600 x 1600 px empfohlen",
                    "es": "Recomendado 1600 x 1600 px",
                    "fr": "1600 x 1600 px recommandé",
                    "pt-PT": "1600 x 1600px, recomendado"
                }
              },
              {
                "type": "text",
                "id": "heading",
                "label": "Heading",
                "default": "Heading"
            },
            {
                "type": "range",
                "id": "head-size",
                "min": 18,
                "max": 30,
                "step": 1,
                "label": "heading size",
                "default": 25
            },
            {
                "type": "color",
                "id": "head_text_color",
                "label": "Heading Text Color",
                "default": "#323232"
           },
            {
                "type": "text",
                "id": "subheading",
                "label": {
                    "en": "Subheading",
                    "de": "Unterüberschrift",
                    "es": "Subtítulo",
                    "fr": "Sous-titre",
                    "pt-PT": "Subtítulo"
                },
                "default": {
                    "en": "Subheading",
                    "de": "Unterüberschrift",
                    "es": "Subtítulo",
                    "fr": "Sous-titre",
                    "pt-PT": "Subtítulo"
                }
            },
            {
                "type": "range",
                "id": "sub-size",
                "min": 12,
                "max": 30,
                "step": 1,
                "label": "subheading size",
                "default": 15
            },
            {
                "type": "color",
                "id": "sub_text_color",
                "label": "sub heading Text Color",
                "default": "#323232"
           },
            {
               "type": "text",
                "id": "btn-text",
                "label": {
                    "en": "Button text",
                    "de": "Buttontext",
                    "es": "Texto del botón",
                    "fr": "Texte des boutons",
                    "pt-PT": "Texto do botão"
                },
                "default": {
                    "en": "Shop now",
                    "de": "Jetzt einkaufen",
                    "es": "Comprar ahora",
                    "fr": "Achetez maintenant",
                    "pt-PT": "Compre agora"
                }
            },
            {
                "type": "color",
                "id": "background_color1",
                "label": "background color 1",
                "default": "#f9fafb"
           },
           {
            "type": "color",
            "id": "background_color2",
            "label": "background color 2",
            "default": "#b717b5"
        },
            {
                 "type": "color",
                 "id": "text_color",
                 "label": "Text Color",
                 "default": "#ffffff"
            },
            {
                 "type": "color",
                 "id": "btn_bg_color",
                 "label": "Button Background Color",
                 "default": "#323232"
            },
            {
                "type": "color",
                "id": "btn_text_color",
                "label": "Button Text Color",
                "default": "#FFF"
           }
            
        ]
    }
  ],
  "presets": [
    {
      "name": "Sale Announce",
      "blocks": [
        {
            "type": "sale_announce"
        },
        {
            "type": "sale_announce"
        }
      ]
    }
  ]
}
{% endschema %}